# Спецификация OpenAPI для веб-сервисов

## Введение

Разработать спецификацию в формате OpenAPI для набора веб-сервисов, реализующего следующую функциональность:

## Первый веб-сервис: Управление коллекцией объектов

### Описание

Первый веб-сервис должен осуществлять управление коллекцией объектов. В коллекции необходимо хранить объекты класса `Flat`, описание которого приведено ниже:

### Описание класса `Flat`

- `id`: Поле не может быть null, значение поля должно быть больше 0, значение этого поля должно быть уникальным, значение этого поля должно генерироваться автоматически.
- `name`: Поле не может быть null, строка не может быть пустой.
- `coordinates`: Поле не может быть null.
- `creationDate`: Поле не может быть null, значение этого поля должно генерироваться автоматически.
- `area`: Значение поля должно быть больше 0.
- `numberOfRooms`: Значение поля должно быть больше 0.
- `furnish`: Поле может быть null.
- `view`: Поле не может быть null.
- `transport`: Поле не может быть null.
- `house`: Поле не может быть null.

### Описание класса `Coordinates`

- `x`: Должен быть указан.
- `y`: Поле не может быть null.

### Описание класса `House`

- `name`: Поле может быть null.
- `year`: Максимальное значение поля 210, значение поля должно быть больше 0.
- `numberOfFlatsOnFloor`: Значение поля должно быть больше 0.
- `numberOfLifts`: Значение поля должно быть больше 0.

### Описание перечислений

- `Furnish`: `DESIGNER`, `FINE`, `BAD`, `LITTLE`.
- `View`: `STREET`, `YARD`, `GOOD`.
- `Transport`: `FEW`, `NONE`, `NORMAL`, `ENOUGH`.

### Основные требования

- API реализуемый сервисом должен соответствовать рекомендациям подхода RESTful.
- Необходимо реализовать следующий базовый набор операций с объектами коллекции:
  - Добавление нового элемента.
  - Получение элемента по ИД.
  - Обновление элемента.
  - Удаление элемента.
  - Получение массива элементов.
- Операция, выполняемая над объектом коллекции, должна определяться методом HTTP-запроса.
- Операция получения массива элементов должна поддерживать возможность сортировки и фильтрации по любой комбинации полей класса, а также возможность постраничного вывода результатов выборки с указанием размера и порядкового номера выводимой страницы.
- Все параметры, необходимые для выполнения операции, должны передаваться в URL запроса.
- Информация об объектах коллекции должна передаваться в формате XML.
- В случае передачи сервису данных, нарушающих заданные на уровне класса ограничения целостности, сервис должен возвращать код ответа HTTP, соответствующий произошедшей ошибке.

### Дополнительные операции

- Рассчитать среднее значение поля `numberOfRooms` для всех объектов.
- Вернуть количество объектов, значение поля `transport` которых больше заданного.
- Вернуть массив объектов, значение поля `furnish` которых больше заданного.

Эти операции должны размещаться на отдельных URL.

## Второй веб-сервис: Дополнительные операции

Второй веб-сервис должен располагаться на URL `/agency` и реализовывать ряд дополнительных операций, связанных с вызовом API первого сервиса:

- `/get-most-expensive/{id1}/{id2}/{id3}`: выбрать из трёх квартир с заданными id наиболее дорогую.
- `/get-ordered-by-time-to-metro/{by-transport}/{desc}`: вернуть список всех квартир, отсортированный по времени, которое требуется, чтобы добраться от них до метро пешком (или на транспорте) в порядке возрастания (или убывания).

Эти операции также должны размещаться на отдельных URL.

## Документация

Для разработанной спецификации необходимо сгенерировать интерактивную веб-документацию с помощью Swagger UI. Документация должна содержать описание всех REST API обоих сервисов с текстовым описанием функциональности каждой операции. Созданную веб-документацию необходимо развернуть на сервере helios.
